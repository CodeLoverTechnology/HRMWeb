@model HRMWeb.DataModel.T_EmployeeAttendance

@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<div class="border shadow pb-4">
    <h2 class="bg-primary text-white p-1 pl-3">Employee Attendance Details</h2>
    <hr />
    <div class="form-horizontal w-100 pl-3 pr-3">
        <div class="row container">
            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
                <table class="table table-responsive table-striped table-hover">
                    <tr>
                        <th>@Html.DisplayNameFor(model => model.M_EmployeeMasters.EmployeeName)</th>
                        <td>: @Html.DisplayFor(model => model.M_EmployeeMasters.EmployeeName)</td>
                    </tr>
                    <tr>
                        <th>@Html.DisplayNameFor(model => model.InTime)</th>
                        <td>: @Html.DisplayFor(model => model.InTime)</td>
                    </tr>
                    <tr>
                        <th>@Html.DisplayNameFor(model => model.OutTime)</th>
                        <td>: @Html.DisplayFor(model => model.OutTime)</td>
                    </tr>
                    <tr>
                        <th>@Html.DisplayNameFor(model => model.Reason)</th>
                        <td>: @Html.DisplayFor(model => model.Reason)</td>
                    </tr>
                    <tr>
                        <th>@Html.DisplayNameFor(model => model.ModifiedBy)</th>
                        <td>: @Html.DisplayFor(model => model.ModifiedBy)</td>
                    </tr>
                    <tr>
                        <th>@Html.DisplayNameFor(model => model.ModifiedDate)</th>
                        <td>: @Html.DisplayFor(model => model.ModifiedDate)</td>
                    </tr>
                </table>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
                <table class="table table-responsive table-striped table-hover" style="width:100%;">
                    <tr>
                        <th colspan="2">Employee Attendance Summary </th>
                    </tr>
                    <tr>
                        <th>Total Days</th>
                        <td>@DateTime.Now.ToString("MMM") - @DateTime.DaysInMonth(@DateTime.Now.Year, @DateTime.Now.Month) Days</td>
                    </tr>
                    <tr>
                        <th>No Of Present Days</th>
                        <td></td>
                    </tr>
                    <tr>
                        <th>No Of Holidays </th>
                        <td>
                            @{
                                int count = 0;
                                for (int i = 0; i <= @DateTime.DaysInMonth(@DateTime.Now.Year, @DateTime.Now.Month); i++)
                                {
                                    try
                                    {
                                        DateTime d = Convert.ToDateTime(DateTime.Now.Year.ToString() + "-" + DateTime.Now.Month.ToString() + "-" + i + 1);
                                        if (d.DayOfWeek == DayOfWeek.Sunday || d.DayOfWeek == DayOfWeek.Saturday)
                                        {
                                            count = count + 1;
                                        }
                                    }
                                    catch (Exception ex)
                                    {

                                    }
                                }
                                <label>@count</label>
                            }
                        </td>
                    </tr>
                    <tr>
                        <th>No Of Leaves</th>
                        <td>0</td>
                    </tr>
                </table>
            </div>

            
        </div>
        
    </div>
    <div class="form-group">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-right">
            @Html.ActionLink("Edit", "Edit", new { id = Model.AttendanceID }, new { @class = "btn btn-success" })
            @Html.ActionLink("Back to List", "Index", "", new { @class = "btn btn-warning text-white" })
        </div>
    </div>
</div>
